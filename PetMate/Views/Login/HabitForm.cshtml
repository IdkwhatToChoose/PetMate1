@model PetMate.ViewModels.UserViewModel
@{
    Layout = "_Layout";
}
<form asp-controller="Login" asp-action="Register" method="post" enctype="multipart/form-data" class="form-body">

    <div class="hobby-form-wrap">

        <div class="form-header">
            <h2>Форма за навици</h2>
            <p>Отговори на въпросите по-долу:</p>
            <span>Отговорени въпроси: <strong id="qAnswered">0/15</strong></span>
        </div>
        <div id="hobby-form">
            <div class="question">
                <span>1. Колко активни сте в ежедневието си?</span>
                <div class="section-container">
                    <input type="radio" class="option" name="radio1" onclick="selectOnlyOne(this)"><span>Неактивен</span>
                </div>
                <div class="section-container">
                    <input type="radio" class="option" name="radio1" onclick="selectOnlyOne(this)"><span>Средно активен</span>
                </div>
                <div class="section-container">
                    <input type="radio" class="option" name="radio1" onclick="selectOnlyOne(this)"><span>Много активен</span>
                </div>
            </div>
            <div class="question">
                <span>2. Имате ли опит с отглеждане на домашни любимци?</span>
                <div class="section-container">
                    <input type="radio" name="radio2" class="option"><span>Да</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio2" class="option"><span>Не</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio2" class="option"><span>Малко</span>
                </div>
            </div>
            <div class="question">
                <span>3. Каква е вашата жилищна ситуация?</span>
                <div class="section-container">
                    <input type="radio" name="radio3" class="option"><span>Апартамент</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio3" class="option"><span>Къща с двор</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio3" class="option"><span>Селски имот</span>
                </div>
            </div>
            <div class="question">
                <span>4. Колко често сте вкъщи през деня?</span>
                <div class="section-container">
                    <input type="radio" name="radio4" class="option"><span>Рядко</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio4" class="option"><span>Частично</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio4" class="option"><span>Предимно вкъщи</span>
                </div>
            </div>
            <div class="question">
                <span>5. Имате ли други домашни любимци?</span>
                <div class="section-container">
                    <input type="radio" name="radio5" class="option"><span>Да</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio5" class="option"><span>Не</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio5" class="option"><span>Планирам да си взема</span>
                </div>
            </div>
            <div class="question">
                <span>6. Има ли деца във вашето домакинство?</span>
                <div class="section-container">
                    <input type="radio" name="radio6" class="option"><span>Да, постоянно</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio6" class="option"><span>Да, частично</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio6" class="option"><span>Не</span>
                </div>
            </div>
            <div class="question">
                <span>7. Колко време на ден можете да отделяте за грижа за домашен любимец?</span>
                <div class="section-container">
                    <input type="radio" name="radio7" class="option"><span>По-малко от 1 час</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio7" class="option"><span>1–3 часа</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio7" class="option"><span>Повече от 3 часа</span>
                </div>
            </div>
            <div class="question">
                <span>8. Какво ниво на поддръжка на домашния любимец предпочитате?</span>
                <div class="section-container">
                    <input type="radio" name="radio8" class="option"><span>Ниско</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio8" class="option"><span>Средно</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio8" class="option"><span>Високо</span>
                </div>
            </div>
            <div class="question">
                <span>9. Предпочитате ли домашен любимец, който е самостоятелен или социален?</span>
                <div class="section-container">
                    <input type="radio" name="radio9" class="option"><span>Много самостоятелен</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio9" class="option"><span>Донякъде самостоятелен</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio9" class="option"><span>Много социален</span>
                </div>
            </div>
            <div class="question">
                <span>10. Удобно ли ви е да се грижите за домашни любимци, които изискват редовно подстригване?</span>
                <div class="section-container">
                    <input type="radio" name="radio10" class="option"><span>Да</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio10" class="option"><span>Не</span>
                </div>
            </div>
            <div class="question">
                <span>11. Колко висока е вашата толерантност към шум (лаене, мяукане)?</span>
                <div class="section-container">
                    <input type="radio" name="radio11" class="option"><span>Ниска</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio11" class="option"><span>Средна</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio11" class="option"><span>Висока</span>
                </div>
            </div>
            <div class="question">
                <span>12. Колко сте толерантни към почистване, свързано с домашни любимци?</span>
                <div class="section-container">
                    <input type="radio" name="radio12" class="option"><span>Висока</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio12" class="option"><span>Средна</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio12" class="option"><span>Ниска</span>
                </div>
            </div>
            <div class="question">
                <span>13. Чувствате ли се комфортно с домашни любимци, които може да имат специални нужди?</span>
                <div class="section-container">
                    <input type="radio" name="radio13" class="option"><span>Да</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio13" class="option"><span>Не</span>
                </div>
            </div>
            <div class="question">
                <span>14. Пътувате ли често и би ли пътувал вашият домашен любимец с вас?</span>
                <div class="section-container">
                    <input type="radio" name="radio14" class="option"><span>Да, и той ще пътува с мен</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio14" class="option"><span>Да, но ще остане у дома</span>
                </div>
                <div class="section-container">
                    <input type="radio" name="radio14" class="option"><span>Не</span>
                </div>
            </div>
            <div class="question">
                <span>15. Кои качества са най-важни за вашия идеален домашен любимец? (Можете да изберете повече от едно)</span>
                <div class="section-container">
                    <input type="checkbox" name="radio15" class="option"><span>Спокоен</span>
                </div>
                <div class="section-container">
                    <input type="checkbox" name="radio15" class="option"><span>Игрив</span>
                </div>
                <div class="section-container">
                    <input type="checkbox" name="radio15" class="option"><span>Защитнически</span>
                </div>
                <div class="section-container">
                    <input type="checkbox" name="radio15" class="option"><span>Любвеобилен</span>
                </div>
            </div>
            
        </div>

        <button id="submit" disabled type="submit" onclick="SeeCheckedAnswers()">Регистрирай се</button>
        <input type="text" id="answers" hidden asp-for="Answers" />
        <input type="text" asp-for="Valid" id="vField" hidden />
        <input type="text" asp-for="Email" hidden />
        <input type="text" asp-for="Username" hidden />
        <input type="text" asp-for="Password" hidden />
    </div>
</form>

<style>
    .section-container input[type="radio"] {
        transform: scale(1.45);
        margin-right: 12px;
        margin-left: 4px;
    }
        /* .section-container input[type="checkbox"]:checked + .option span {
                    background-color: #4caf50;
                  } */
        .section-container input[type="radio"]:checked + span {
            color: #1d5a00;
        }
</style>
<script>
    
    function updateAnsweredCount() {
        const totalQuestions = 15; // Total number of questions
        let answeredQuestions = 0;

        // Select all question containers
        const questions = document.querySelectorAll('.question');

        questions.forEach(question => {
            // Check if any input inside the question is checked
            const isAnswered = question.querySelector('input[type="radio"]:checked, input[type="checkbox"]:checked');
            if (isAnswered) {
                answeredQuestions++;
            }
        });

        // Update the count in the <strong> element
        const qAnsweredElement = document.getElementById('qAnswered');
        qAnsweredElement.textContent = `${answeredQuestions}/${totalQuestions}`;
        if (answeredQuestions >= totalQuestions) {
            qAnsweredElement.style.color = 'green';
            document.querySelector('#vField').value = "true";
            document.querySelector('#submit').disabled = false; // Enable the submit button if all questions are answered
        } else {
            qAnsweredElement.style.color = 'red';
            document.querySelector('#vField').value = "false";
            document.querySelector('#submit').disabled = true; // Disable the submit button if not all questions are answered
        }
    }

    // Add event listeners to all inputs to track changes
    document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
        input.addEventListener('change', updateAnsweredCount);
    });

    // Initialize the count on page load
    document.addEventListener('DOMContentLoaded', updateAnsweredCount);

</script>

<script src="/js/site.js"></script>

